<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/basic/in-home.html}">
<head>
    <meta charset="UTF-8">
    <title>자재ON - 입고 > 거래 명세</title>
</head>
<body>

<th:block layout:fragment="incoming-trans">
    <div class="container py-5">
        <h2 class="mb-4">거래 명세 발행</h2>
        <div class="card p-4 mb-3">
            <form action="/internal/incoming/trans" method="get">
                <div class="col-md-3">
                    <label for="orderId" class="form-label">발주코드</label>
                    <input type="text" class="form-control" id="orderId" name="orderId"
                           th:value="${pageRequestDTO.orderId}">
                </div>
                <div class="col-md-3">
                    <label for="pCompany" class="form-label">자재코드</label>
                    <input type="text" class="form-control" id="pCompany" name="pCompany"
                           th:value="${pageRequestDTO.pCompany}">
                </div>
                <div class="col-md-3">
                    <label for="matId" class="form-label">자재코드</label>
                    <input type="text" class="form-control" id="matId" name="matId"
                           th:value="${pageRequestDTO.matId}">
                </div>
                <div class="col-md-3">
                    <label for="matName" class="form-label">자재명</label>
                    <input type="text" class="form-control" id="matName" name="matName"
                           th:value="${pageRequestDTO.matName}">
                </div>
                <div class="col-12 text-end">
                    <button type="submit" class="btn btn-primary"><i class="bi bi-search"></i> 검색</button>
                    <button type="button" class="btn btn-outline-secondary clearBtn" ><i class="bi bi-arrow-clockwise"></i> 초기화</button>
                </div>
            </form>
        </div>

        <div class="card p-4 mb-5">
            <table class="table table-bordered table-hover data-table text-center">
                <thead class="table-light">
                <tr>
                    <th>발주코드</th>
                    <th>협력사</th>
                    <th>자재코드</th>
                    <th>자재명</th>
                    <th>납입량</th>
                    <th>단가</th>
                    <th>총금액</th>
                    <th>날짜</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="Transation:${TransationList}">
                    <td th:text="${Transation.orderId}"></td>
                    <td th:text="${Transation.pCompany}"></td>
                    <td th:text="${Transation.matId}"></td>
                    <td th:text="${Transation.matName}"></td>
                    <td th:text="${Transation.titemQty}"></td>
                    <td th:text="${Transation.titemPrice}"></td>
                    <td th:text="${Transation.amount}"></td>
                    <td th:text="${Transation.incomingLastCompletedAt}"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <h2 class="mb-4">명세서</h2>
        <div class="card p-4">
            <form id="statement-form" class="row g-3">
                <div class="col-md-4">
                    <label for="buyer" class="form-label">거래사</label>
                    <input type="text" class="form-control" id="buyer">
                </div>
                <div class="col-md-4">
                    <label for="vendor" class="form-label">협력사</label>
                    <input type="text" class="form-control" id="vendor">
                </div>
                <div class="col-md-4">
                    <label for="trade-date" class="form-label">거래일</label>
                    <input type="date" class="form-control" id="trade-date">
                </div>
                <div class="col-12">
                    <label for="details" class="form-label">거래 관련 세부 내용</label>
                    <textarea class="form-control" id="details" rows="4" placeholder="거래 관련 세부 내용"></textarea>
                </div>
                <div class="col-12 text-end mt-4">
                    <button type="submit" class="btn btn-primary"><i class="bi bi-file-earmark-check me-1"></i> 발행</button>
                </div>
            </form>
        </div>
    </div>
</th:block>
<script layout:fragment="script" th:inline="javascript">
    document.querySelector(".clearBtn").addEventListener("click", function (e) {
        e.preventDefault()
        e.stopPropagation()

        self.location = '/internal/incoming/trans'
    }, false)
</script>

</body>
</html>