<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css">
    <title>자재 관리의 시작, 자재ON</title>
    <link rel="stylesheet" th:href="@{/css/page/user/intro.css}">
</head>

<body>

<div class="overlay">
    <div class="login-box">
      <span class="fs-5">
        <span class="dot-mark">자재 관리</span>의 <span class="dot-mark">시작</span>은
      </span>
        <div class="logo-text">
        <span class="large-logo">
          <span class="logo"><i class="bi bi-box"></i>자재<span class="logo-on">ON</span></span>
        </span>
        </div>

        <form id="loginForm" class="mx-auto" th:action="@{/login}" method="post">
            <div class="mb-3">
                <label for="uEmail" class="form-label float-start">아이디</label>
                <input type="text" class="form-control" id="uEmail" name="username" placeholder="이메일 입력">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label float-start">비밀번호</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="비밀번호 입력">
            </div>
            <div th:if="${param.error}" class="mb-3">
                <small class="text-feedback text-danger">아이디 또는 비밀번호가 잘못되었습니다.</small>
            </div>
            <div class="d-flex justify-content-between mb-3 mt-2">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="remember-me" name="remember-me">
                    <label class="form-check-label" for="remember-me">로그인 유지</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="saveId">
                    <label class="form-check-label" for="saveId">아이디 저장</label>
                </div>
            </div>

            <button type="submit" class="btn w-100">로그인</button>
        </form>

        <div class="text-center sub-links mt-3">
            <a href="/find/id" class="text-decoration-none me-2">
                <i class="bi bi-search me-2"></i>아이디 찾기
            </a> |
            <a href="/find/pw" class="text-decoration-none mx-2">
                <i class="bi bi-search me-2"></i>비밀번호 찾기
            </a> |
            <a href="/join" class="text-decoration-none ms-2">
                <i class="bi bi-person-plus me-2"></i>회원가입
            </a>
        </div>
    </div>
<!-- login box end -->
</div>

<!-- 비밀번호 재설정 > 토큰 유효성 검사 실패 시 띄워주는 모달 -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="errorModalLabel">⚠️ 안내</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
            </div>
            <div class="modal-body">
                유효하지 않은 비밀번호 재설정 링크입니다.<br>
                다시 이메일을 통해 링크를 요청해주세요.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>


</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/page/user/intro.js}"></script>
<script th:src="@{/js/page/user/login.js}"></script>
</html>